<?xml version="1.0" encoding="UTF-8"?>
<main>
  <templates>
    <detail>
      <background>light</background>
      <show-announcements>true</show-announcements>
      <show-body>false</show-body>
      <show-hero-image>false</show-hero-image>
      <variant>summary</variant>
      <slots>
        <header/>
        <subheader/>
        <summary hide-when-empty="true">
          {{props.description}}
        </summary>
      </slots>
    </detail>
    <descendant-list>
      <background>none</background>
      <ordering-identifier>sections</ordering-identifier>
      <see-all-button-label>See All Contents</see-all-button-label>
      <selection-fallback-mode>dynamic</selection-fallback-mode>
      <selection-limit>40</selection-limit>
      <selection-mode>named</selection-mode>
      <selection-source>self</selection-source>
      <selection-unbounded>true</selection-unbounded>
      <entity-context>none</entity-context>
      <show-hero-image>false</show-hero-image>
      <show-nested-entities>false</show-nested-entities>
      <title>Contents</title>
      <use-selection-fallback>false</use-selection-fallback>
      <variant>tree</variant>
      <slots>
        <block-header>Contents</block-header>
      </slots>
    </descendant-list>
    <contributor-list>
      <background>light</background>
      <limit>8</limit>
      <slots>
        <header>
          Contributors
        </header>
      </slots>
    </contributor-list>
    <detail>
      <background>light</background>
      <show-announcements>false</show-announcements>
      <show-body>false</show-body>
      <show-hero-image>false</show-hero-image>
      <variant>columns</variant>
      <slots>
        <header>Metadata</header>
        <items-a>
          {% mditem %}
            {% mdvalue label: "Language" %}
              {{props.language}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Subjects" %}
              {{props.subjects}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Keywords" %}
              {{props.keywords}}
            {% endmdvalue %}
          {% endmditem %}
        </items-a>
        <items-b>
          {% if ancestors.series %}
            {% mditem %}
              {% mdvalue label: "Series" %}
                {{ancestors.series}}
              {% endmdvalue %}
            {% endmditem %}
          {% endif %}
          {% mditem %}
            {% mdvalue label: "Edition" %}
              {{props.edition}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Version" %}
              {{props.version}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "License" %}
              {{props.cc_license}}
            {% endmdvalue %}
          {% endmditem %}
        </items-b>
        <items-c>
          {% mditem %}
            {% mdvalue label: "Published" %}
              {{entity.published}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Publisher" %}
              {{props.publisher}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Publisher Location" %}
              {{props.publisher_location}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Print ISBN" %}
              {{props.print_isbn}}
            {% endmdvalue %}
          {% endmditem %}
          {% mditem %}
            {% mdvalue label: "Ebook ISBN" %}
              {{props.ebook_isbn}}
            {% endmdvalue %}
          {% endmditem %}
        </items-c>
        <items-d>
          {% if props.pdf_version.exists %}
            {% mditem %}
              {% mdvalue label: "PDF Version" %}
                {% asset props.pdf_version %}
                  Download
                {% endasset %}
              {% endmdvalue %}
            {% endmditem %}
          {% endif %}
          {% if props.online_version.exists %}
            {% mditem %}
              {% mdvalue label: "Online Version" %}
                {{props.online_version}}
              {% endmdvalue %}
            {% endmditem %}
          {% endif %}
          {% mditem %}
            {% mdvalue label: "Purchase URL" %}
              {{props.purchase_url}}
            {% endmdvalue %}
          {% endmditem %}
        </items-d>
      </slots>
    </detail>
    <link-list>
      <background>light</background>
      <dynamic-ordering-definition>
        <filter>
          <schema namespace="nglp" identifier="book"/>
        </filter>
        <order path="entity.published" dir="desc"/>
        <select direct="descendants">
          <links references="true" />
        </select>
      </dynamic-ordering-definition>
      <title/>
      <selection-limit>8</selection-limit>
      <selection-mode>dynamic</selection-mode>
      <selection-source>self</selection-source>
      <variant>grid</variant>
      <show-contributors>false</show-contributors>
      <slots>
        <block-header>Related Books</block-header>
        <header-aside/>
        <metadata/>
        <subtitle/>
      </slots>
    </link-list>
  </templates>
</main>
